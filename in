<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ZUZANKA NON-ESCAPE · FILASEK EDITION</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #050316;
      --bg-alt: #090922;
      --accent: #ff6bd5;
      --accent-soft: #ff6bd522;
      --accent-2: #6bffdf;
      --accent-3: #ffe66b;
      --accent-4: #7b6bff;
      --text: #f7f7ff;
      --muted: #a0a0c0;
      --error: #ff4b6b;
      --success: #6bff9a;
      --card: #15152f;
      --shadow: 0 0 50px rgba(0, 0, 0, 0.75);
      --radius: 18px;
      --transition: 200ms ease;
      --room-radius: 22px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at 0% 0%, #ff6bd525, transparent 55%),
        radial-gradient(circle at 100% 0%, #6bffdf25, transparent 55%),
        radial-gradient(circle at 0% 100%, #7b6bff25, transparent 55%),
        radial-gradient(circle at 100% 100%, #ffe66b18, transparent 60%),
        linear-gradient(145deg, #050517, #02020a);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      overflow: hidden;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      width: 420px;
      height: 420px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 20%, rgba(255, 107, 213, 0.35), transparent 70%);
      filter: blur(40px);
      opacity: 0.6;
      pointer-events: none;
      mix-blend-mode: screen;
      z-index: -1;
    }

    body::before {
      top: -120px;
      left: -80px;
    }

    body::after {
      bottom: -140px;
      right: -80px;
      background:
        radial-gradient(circle at 60% 70%, rgba(123, 107, 255, 0.35), transparent 70%);
    }

    .frame {
      width: 100%;
      max-width: 980px;
      min-height: 560px;
      background:
        radial-gradient(circle at top left, #272756, #070716 55%);
      border-radius: 30px;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.14);
      display: flex;
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(18px);
    }

    .frame::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 0% 0%, rgba(255, 255, 255, 0.05), transparent 55%),
        radial-gradient(circle at 100% 0%, rgba(255, 255, 255, 0.04), transparent 55%),
        radial-gradient(circle at 10% 100%, rgba(255, 255, 255, 0.03), transparent 55%);
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .floating-blob {
      position: absolute;
      width: 220px;
      height: 220px;
      border-radius: 50%;
      background:
        conic-gradient(from 180deg, rgba(255, 107, 213, 0.4), rgba(107, 255, 223, 0.4), rgba(123, 107, 255, 0.4), rgba(255, 230, 107, 0.35), rgba(255, 107, 213, 0.4));
      filter: blur(20px);
      opacity: 0.38;
      mix-blend-mode: screen;
      pointer-events: none;
      animation: blobDrift 22s infinite alternate ease-in-out;
    }

    .floating-blob.blob-left {
      top: -80px;
      left: -40px;
    }

    .floating-blob.blob-right {
      bottom: -90px;
      right: -30px;
      animation-duration: 26s;
    }

    @keyframes blobDrift {
      0% {
        transform: translate(0, 0) scale(1);
      }
      50% {
        transform: translate(20px, 18px) scale(1.05);
      }
      100% {
        transform: translate(-12px, 10px) scale(1.02);
      }
    }

    .sidebar {
      width: 270px;
      border-right: 1px solid rgba(255, 255, 255, 0.14);
      padding: 20px 18px 18px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      background:
        linear-gradient(145deg, rgba(8, 8, 25, 0.95), rgba(2, 2, 12, 0.98));
      backdrop-filter: blur(20px);
      position: relative;
      z-index: 1;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      background: radial-gradient(circle at top left, #ff6bd520, #191932);
      border: 1px solid #ff6bd533;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      box-shadow: 0 8px 24px rgba(255, 107, 213, 0.36);
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 12px var(--accent);
    }

    h1 {
      font-size: 22px;
      margin: 6px 0 2px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .subtitle {
      font-size: 12px;
      color: var(--muted);
    }

    .level-list {
      margin-top: 12px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 7px;
      font-size: 11px;
    }

    .level-pill {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      padding: 6px 9px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 4px;
      color: var(--muted);
      background: radial-gradient(circle at top, #14142a, #070716);
      transition:
        background var(--transition),
        border-color var(--transition),
        color var(--transition),
        transform var(--transition),
        box-shadow var(--transition);
      cursor: pointer;
    }

    .level-pill:hover {
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.55);
      transform: translateY(-1px);
    }

    .level-pill.active {
      border-color: var(--accent);
      background: radial-gradient(circle at top, #ff6bd522, #0a0a24);
      color: var(--text);
      box-shadow: 0 10px 28px rgba(255, 107, 213, 0.38);
      transform: translateY(-1px);
    }

    .level-pill.done {
      border-color: var(--success);
      color: var(--success);
      background: radial-gradient(circle at top, #6bff9a22, #071818);
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #ffffff18;
    }

    .level-pill.done .pill-dot {
      background: var(--success);
      box-shadow: 0 0 6px var(--success);
    }

    .level-pill.active .pill-dot {
      background: var(--accent);
      box-shadow: 0 0 6px var(--accent);
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 11px;
      color: var(--muted);
      border-top: 1px dashed rgba(255, 255, 255, 0.24);
      padding-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 7px;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      border-radius: 999px;
      background: #1d1d3a;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 12px var(--accent-2);
      transition: width 220ms ease-out;
    }

    .admin-toggle {
      margin-top: 6px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 6px;
    }

    .admin-tag {
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .admin-btn {
      border-radius: 999px;
      padding: 5px 10px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      border: 1px solid rgba(255, 255, 255, 0.28);
      background: radial-gradient(circle at top, rgba(255, 230, 107, 0.18), #121228);
      color: #ffe66b;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 6px 18px rgba(255, 230, 107, 0.32);
      transition:
        transform 140ms ease,
        box-shadow 140ms ease,
        filter 140ms ease,
        background 200ms ease;
    }

    .admin-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 9px 24px rgba(255, 230, 107, 0.5);
      filter: brightness(1.05);
    }

    .admin-btn:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 3px 10px rgba(255, 230, 107, 0.35);
    }

    .main {
      flex: 1;
      padding: 22px 22px 20px 22px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      position: relative;
      z-index: 1;
    }

    .room-wrapper {
      flex: 1;
      border-radius: var(--room-radius);
      background:
        radial-gradient(circle at 10% 0%, #313162, #080814 55%),
        radial-gradient(circle at 100% 100%, #18183c, transparent 60%);
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow:
        inset 0 0 0 1px #000000aa,
        0 20px 40px rgba(0, 0, 0, 0.6);
      padding: 18px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      position: relative;
      overflow: hidden;
    }

    .room-wrapper::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 15% 0%, rgba(255, 255, 255, 0.04), transparent 65%),
        radial-gradient(circle at 90% 100%, rgba(255, 255, 255, 0.03), transparent 60%);
      mix-blend-mode: soft-light;
      pointer-events: none;
    }

    .room-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      position: relative;
      z-index: 1;
    }

    .room-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .room-title {
      font-size: 18px;
      font-weight: 600;
    }

    .tag {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.32);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      backdrop-filter: blur(8px);
      background: rgba(5, 5, 20, 0.88);
    }

    .tag-flag {
      width: 16px;
      height: 11px;
      border-radius: 2px;
      overflow: hidden;
      box-shadow: 0 0 6px #000000aa;
      border: 1px solid rgba(255, 255, 255, 0.4);
      display: inline-block;
      background:
        linear-gradient(to bottom, #fdb913 0 33%, #006a44 33% 66%, #c1272d 66% 100%);
    }

    .room-body {
      flex: 1;
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 14px;
      align-items: stretch;
      position: relative;
      z-index: 1;
    }

    @media (max-width: 780px) {
      .frame {
        flex-direction: column;
        min-height: auto;
      }
      .sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.16);
        flex-direction: column;
      }
      .main {
        padding-top: 16px;
      }
      .room-body {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 640px) {
      body {
        padding: 10px;
      }
    }

    .room-scene {
      border-radius: 18px;
      background:
        radial-gradient(circle at top, #2f2f73, #111123 60%, #050510);
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow:
        inset 0 0 0 1px #000000aa,
        0 10px 28px rgba(0, 0, 0, 0.6);
      padding: 14px 14px 12px;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .scene-inner {
      flex: 1;
      border-radius: 14px;
      background:
        radial-gradient(circle at top, #4545b0, #090919 60%);
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      animation: slowShift 16s infinite alternate ease-in-out;
    }

    @keyframes slowShift {
      0% {
        transform: translateY(0) translateX(0);
      }
      50% {
        transform: translateY(-2px) translateX(3px);
      }
      100% {
        transform: translateY(0) translateX(0);
      }
    }

    .room-floor {
      position: absolute;
      inset: auto -5%;
      height: 36%;
      background:
        radial-gradient(circle at 50% 10%, #ffffff0f, transparent 65%),
        radial-gradient(circle at 0% 0%, #ffffff03, transparent 60%),
        radial-gradient(circle at 100% 0%, #ffffff03, transparent 60%);
      transform: perspective(600px) rotateX(70deg);
      transform-origin: top;
      opacity: 0.9;
      border-top: 1px solid rgba(255, 255, 255, 0.12);
    }

    .room-wall-line {
      position: absolute;
      inset: 10% 18% auto;
      height: 1px;
      background: linear-gradient(90deg, #ffffff00, #ffffff44, #ffffff00);
      opacity: 0.7;
    }

    .door {
      position: absolute;
      inset: 18% 43% 20% 57%;
      border-radius: 12px;
      background:
        linear-gradient(180deg, #02020a, #11112a);
      border: 1px solid rgba(255, 255, 255, 0.16);
      box-shadow: 0 0 16px #000000cc;
      overflow: hidden;
    }

    .door-glow {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 0%, #ff6bd530, transparent 60%);
      mix-blend-mode: screen;
      opacity: 0.8;
    }

    .door-light-strip {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, #ff6bd570, transparent 70%);
      mix-blend-mode: screen;
      opacity: 0.7;
    }

    .door-slot {
      position: absolute;
      bottom: 16%;
      left: 50%;
      transform: translateX(-50%);
      width: 26px;
      height: 4px;
      border-radius: 999px;
      background: #0a0a1f;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.22);
    }

    .door-spark {
      position: absolute;
      width: 1px;
      height: 12px;
      background: linear-gradient(180deg, #ffffffaa, #ff6bd500);
      left: 50%;
      top: 20%;
      opacity: 0.8;
      animation: sparkBlink 2.6s infinite ease-in-out;
    }

    @keyframes sparkBlink {
      0%, 100% {
        opacity: 0.2;
      }
      50% {
        opacity: 0.9;
      }
    }

    .door-label {
      position: absolute;
      font-size: 10px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: #ffffff80;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
    }

    .room-detail {
      position: absolute;
      width: 16px;
      height: 16px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: radial-gradient(circle at 20% 0%, #ffffff33, #202040);
      box-shadow: 0 0 12px #000000cc;
      top: 22%;
      left: 23%;
    }

    .room-detail.lithuania {
      background:
        linear-gradient(to bottom, #fdb913 0 33%, #006a44 33% 66%, #c1272d 66% 100%);
      box-shadow: 0 0 16px #fdb91380;
    }

    .room-detail.neon {
      right: 24%;
      left: auto;
      top: 26%;
      border-radius: 999px;
      width: 6px;
      height: 42px;
      background: linear-gradient(180deg, #6bffdf, #6bffdf22);
      border: none;
      box-shadow: 0 0 16px #6bffdfaa;
    }

    .room-detail.orb {
      top: auto;
      bottom: 26%;
      left: 18%;
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 0%, #ffffffcc, #ff6bd5 30%, #241133 68%);
      box-shadow: 0 0 22px #ff6bd599;
    }

    .room-detail.tablet {
      top: auto;
      bottom: 20%;
      right: 20%;
      left: auto;
      width: 44px;
      height: 18px;
      border-radius: 9px;
      background: linear-gradient(145deg, #141424, #31315d);
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 0 14px #00000090;
    }

    .scene-caption {
      font-size: 11px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    .scene-caption span strong {
      color: var(--accent-2);
      font-weight: 600;
    }

    .room-panel {
      border-radius: 16px;
      background:
        linear-gradient(145deg, rgba(16, 16, 40, 0.94), rgba(5, 5, 18, 0.98));
      border: 1px solid rgba(255, 255, 255, 0.16);
      padding: 14px 14px 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      box-shadow:
        inset 0 0 0 1px #000000aa,
        0 12px 30px rgba(0, 0, 0, 0.65);
      backdrop-filter: blur(16px);
    }

    .room-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .room-panel-title {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
    }

    .room-panel-chip {
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.24);
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(3, 3, 18, 0.9);
    }

    .chip-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #ffffff22;
    }

    .room-panel-body {
      font-size: 13px;
      line-height: 1.5;
      color: #ddddef;
    }

    .room-panel-body p {
      margin: 0 0 4px;
    }

    .hint {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    .input-row {
      display: flex;
      gap: 8px;
      margin-top: 8px;
    }

    input[type="text"],
    input[type="password"] {
      flex: 1;
      padding: 7px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(7, 7, 26, 0.9);
      color: var(--text);
      font-size: 13px;
      outline: none;
      transition:
        border-color var(--transition),
        box-shadow var(--transition),
        background var(--transition),
        transform var(--transition);
    }

    input[type="text"]::placeholder,
    input[type="password"]::placeholder {
      color: #77779a;
    }

    input[type="text"]:focus,
    input[type="password"]:focus {
      border-color: var(--accent-2);
      box-shadow: 0 0 0 1px #6bffdf55;
      background: #050512;
      transform: translateY(-1px);
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      cursor: pointer;
      background: radial-gradient(circle at top, #ff6bd5, #ff3b9c);
      color: #050510;
      font-weight: 600;
      box-shadow: 0 6px 18px rgba(255, 107, 213, 0.4);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition:
        transform 140ms ease,
        box-shadow 140ms ease,
        filter 140ms ease,
        background 200ms ease;
      white-space: nowrap;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 26px rgba(255, 107, 213, 0.6);
      filter: brightness(1.05);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 3px 10px rgba(255, 107, 213, 0.4);
    }

    button.secondary {
      background: linear-gradient(145deg, #151530, #050510);
      border: 1px solid rgba(255, 255, 255, 0.35);
      color: var(--muted);
      box-shadow: none;
      padding-inline: 12px;
      font-size: 10px;
    }

    button.secondary:hover {
      filter: brightness(1.1);
      box-shadow: 0 0 14px rgba(255, 255, 255, 0.18);
    }

    button.secondary:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 0 4px rgba(255, 255, 255, 0.1);
    }

    .status-line {
      margin-top: 6px;
      font-size: 12px;
      min-height: 18px;
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #ffffff18;
    }

    .status-line.ok {
      color: var(--success);
    }

    .status-line.ok .status-dot {
      background: var(--success);
      box-shadow: 0 0 10px var(--success);
    }

    .status-line.err {
      color: var(--error);
    }

    .status-line.err .status-dot {
      background: var(--error);
      box-shadow: 0 0 10px var(--error);
    }

    .top-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      position: relative;
      z-index: 1;
    }

    .crumbs {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.18em;
    }

    .pill-row {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap;
      font-size: 11px;
      color: var(--muted);
    }

    .pill-row span {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(5, 5, 21, 0.9);
      backdrop-filter: blur(10px);
    }

    .pill-row span strong {
      color: var(--accent-2);
    }

    .overlay-win {
      position: absolute;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #ffffff11, #000010ee);
      backdrop-filter: blur(15px);
      z-index: 20;
    }

    .overlay-win.visible {
      display: flex;
    }

    .overlay-box {
      max-width: 440px;
      width: 100%;
      border-radius: 24px;
      padding: 22px 20px 18px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background:
        radial-gradient(circle at top left, rgba(42, 42, 92, 0.96), #050510f8 55%);
      box-shadow: 0 0 40px rgba(0, 0, 0, 0.85);
      text-align: center;
    }

    .overlay-title {
      font-size: 20px;
      margin-bottom: 6px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .overlay-sub {
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 14px;
    }

    .overlay-actions {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .sparkles {
      font-size: 26px;
      display: inline-block;
      margin-bottom: 4px;
    }

    .win-progress {
      margin-top: 8px;
      font-size: 11px;
      color: var(--muted);
    }

    .admin-panel {
      margin-top: 8px;
      padding: 8px 9px 7px;
      border-radius: 14px;
      border: 1px dashed rgba(255, 230, 107, 0.6);
      background: rgba(17, 17, 30, 0.92);
      color: var(--muted);
      font-size: 11px;
      display: none;
      flex-direction: column;
      gap: 6px;
    }

    .admin-panel.visible {
      display: flex;
    }

    .admin-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .admin-panel-label {
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-size: 10px;
      color: #ffe66b;
    }

    .admin-note {
      font-size: 10px;
      color: var(--muted);
    }

    .admin-answer {
      font-size: 11px;
      color: #ffe66b;
      margin-top: 2px;
      word-break: break-word;
    }

    .admin-status {
      font-size: 10px;
      color: var(--muted);
      min-height: 14px;
    }
  </style>
</head>
<body>
  <div class="floating-blob blob-left"></div>
  <div class="floating-blob blob-right"></div>

  <div class="frame" id="game-root">
    <aside class="sidebar">
      <div>
        <div class="badge">
          <span class="badge-dot"></span>
          <span>Experimental Micro-Escape</span>
        </div>
        <h1>ZUZANKA NON-ESCAPE</h1>
        <div class="subtitle">
          10 tiny rooms. No real exit. The game quietly keeps your **vibe**.
        </div>
      </div>

      <div class="level-list" id="level-pills"></div>

      <div class="sidebar-footer">
        <div>Overall progress</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div>
          Finish all rooms to trigger a secret “you won but you did not escape”
          screen.
        </div>

        <!-- FILASEK ADMIN -->
        <div class="admin-toggle">
          <div class="admin-tag">FILASEK ADMIN</div>
          <button type="button" class="admin-btn" id="admin-toggle-btn">
            <span>Console</span>
          </button>
        </div>

        <div class="admin-panel" id="admin-panel">
          <div class="admin-panel-header">
            <span class="admin-panel-label">Protected reveal</span>
            <span class="admin-note">Private & slightly judgmental.</span>
          </div>
          <div class="input-row" style="margin-top:4px;">
            <input
              type="password"
              id="admin-password"
              placeholder="Secret phrase"
              autocomplete="off"
            />
            <button type="button" class="secondary" id="admin-reveal-btn">
              Reveal
            </button>
          </div>
          <div class="admin-status" id="admin-status">
            Enter the FILASEK phrase to see the right answer for this room.
          </div>
          <div class="admin-answer" id="admin-answer"></div>
        </div>
      </div>
    </aside>

    <main class="main">
      <div class="top-meta">
        <div class="crumbs" id="crumbs">Room 1 / 10 · Soft Start</div>
        <div class="pill-row">
          <span><strong>ENTER</strong> answers only, no caps lock drama.</span>
          <span>Three rooms are secretly obsessed with <strong>Lithuania</strong>.</span>
        </div>
      </div>

      <section class="room-wrapper">
        <div class="room-header">
          <div>
            <div class="room-label" id="room-label">ROOM 01</div>
            <div class="room-title" id="room-title">Intro: The Door Stares Back</div>
          </div>
          <div id="room-tags"></div>
        </div>

        <div class="room-body">
          <div class="room-scene">
            <div class="scene-inner">
              <div class="room-wall-line"></div>
              <div class="door">
                <div class="door-glow"></div>
                <div class="door-light-strip"></div>
                <div class="door-slot"></div>
                <div class="door-spark"></div>
                <div class="door-label" id="door-label">ROOM 01</div>
              </div>
              <div class="room-detail" id="detail-left"></div>
              <div class="room-detail neon" id="detail-neon"></div>
              <div class="room-detail orb" id="detail-orb"></div>
              <div class="room-detail tablet" id="detail-tablet"></div>
              <div class="room-floor"></div>
            </div>
            <div class="scene-caption">
              <span>Each room is a small, slightly unfair puzzle.</span>
              <span>Passcode target: <strong id="scene-target">vibe-only</strong></span>
            </div>
          </div>

          <div class="room-panel">
            <div class="room-panel-header">
              <div class="room-panel-title">Task Protocol</div>
              <div class="room-panel-chip" id="chip">
                <span class="chip-dot"></span>
                <span id="chip-label">Difficulty: 1 / 10</span>
              </div>
            </div>
            <div class="room-panel-body" id="room-text">
              <!-- dynamic -->
            </div>

            <form id="answer-form">
              <div class="input-row">
                <input
                  type="text"
                  id="answer-input"
                  autocomplete="off"
                  placeholder="Type the answer, then press Enter or hit Check."
                />
                <button type="submit">
                  <span>Check</span>
                </button>
              </div>
            </form>

            <div class="status-line" id="status-line">
              <div class="status-dot"></div>
              <span id="status-text">Waiting for your first move.</span>
            </div>
          </div>
        </div>
      </section>

      <div class="overlay-win" id="win-overlay">
        <div class="overlay-box">
          <div class="sparkles">✶ ✶ ✶</div>
          <div class="overlay-title">You Won. You’re Still Here.</div>
          <div class="overlay-sub">
            All rooms cleared. The door opens, but it only reveals the same
            strange night and the same glowing UI. Classic non-escape.
          </div>
          <div class="win-progress" id="win-progress">
            Rooms solved: 10 / 10. Completion loop achieved.
          </div>
          <div class="overlay-actions">
            <button id="play-again">Replay sequence</button>
            <button class="secondary" id="close-overlay">
              Stay in the room
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // FILASEK password only lives in JS, not in UI text
    const FILASEK_SECRET = "omm";

    const levels = [
      {
        id: 1,
        title: "Intro: The Door Stares Back",
        label: "ROOM 01",
        tag: "Tutorial-ish",
        difficulty: 1,
        sceneTarget: "a simple word",
        description: `
          The door has no keyhole, only a single handwritten sticky note:
          <em>“Type the word that describes this whole experience.”</em><br><br>
          It’s short, lowercase, and something you might say when the vibes are oddly nice for no reason.
        `,
        hint: "It rhymes with ‘tribe’ and ‘bribe’, but this room won’t pay you.",
        answer: ["vibe"],
      },
      {
        id: 2,
        title: "Numbers Don’t Add Up",
        label: "ROOM 02",
        tag: "Soft Logic",
        difficulty: 2,
        sceneTarget: "a 2-digit code",
        description: `
          On the wall you see glowing equations:<br>
          <code>2 → 4</code><br>
          <code>3 → 9</code><br>
          <code>4 → 16</code><br><br>
          Underneath, written faintly: <em>“So what does 5 become?”</em>
        `,
        hint: "Each number maps to itself multiplied by itself.",
        answer: ["25"],
      },
      {
        id: 3,
        title: "Reverse Password",
        label: "ROOM 03",
        tag: "Word Trick",
        difficulty: 3,
        sceneTarget: "a flipped word",
        description: `
          The terminal flickers a single message:<br>
          <em>“Say <strong>OPEN</strong>, but backwards and in lowercase.”</em><br><br>
          No caps. No spaces. Pure reversal.
        `,
        hint: "Take ‘open’, reverse the letters, make sure it’s lowercase.",
        answer: ["nepo"],
      },
      {
        id: 4,
        title: "Vilnius: Baroque Loop",
        label: "ROOM 04",
        tag: "Lithuania",
        difficulty: 4,
        sceneTarget: "a city name",
        description: `
          On the wall, a ghostly skyline: church towers, narrow streets, old bricks glowing softly.[web:50][web:53][web:58]<br><br>
          A line of text appears:<br>
          <em>“Name the Baltic capital whose Old Town is a UNESCO World Heritage Site and famous for baroque mood.”</em>[web:50][web:53][web:58]
        `,
        hint: "Think of a capital that feels like a baroque labyrinth and starts with ‘V’.",
        answer: ["vilnius"],
        lithuania: true,
      },
      {
        id: 5,
        title: "Orders of the Night",
        label: "ROOM 05",
        tag: "Alphabet",
        difficulty: 4,
        sceneTarget: "a 5-letter word",
        description: `
          Five glowing letters drift in the air: <strong>a</strong>, <strong>t</strong>, <strong>r</strong>, <strong>a</strong>, <strong>c</strong>.<br><br>
          A note on the floor reads:
          <em>“Line them up to make something you might stare at for hours.”</em>
        `,
        hint: "Think of paintings, galleries, installations.",
        answer: ["art"], // canonical
        validator: (raw) => {
          const v = raw.trim().toLowerCase();
          return v === "art" || v === "tract" || v === "carat";
        },
        customStatus: "As long as you turned chaos into some kind of art, the room approves.",
      },
      {
        id: 6,
        title: "Clock Without Numbers",
        label: "ROOM 06",
        tag: "Time",
        difficulty: 4,
        sceneTarget: "a word",
        description: `
          There is a clock with no numbers, only words around the circle:<br>
          <code>DAWN • NOON • DUSK • MIDNIGHT</code><br><br>
          A tiny arrow points exactly between DUSK and MIDNIGHT.<br>
          The caption says: <em>“Name the moment there.”</em>
        `,
        hint: "Think of sky color between dusk and midnight: late evening, deep blue.",
        answer: ["night"],
      },
      {
        id: 7,
        title: "Baltic Trio Memory",
        label: "ROOM 07",
        tag: "Lithuania",
        difficulty: 5,
        sceneTarget: "a 3-word phrase",
        description: `
          A glowing Baltic coastline stretches across the wall. Three dots shimmer on it.[web:46][web:47][web:49]<br>
          Underneath, an inscription:<br>
          <em>“Type the three Baltic states in alphabetical order, all lowercase, separated by single spaces.”</em>[web:46][web:47]
        `,
        hint: "You’re looking for Estonia, Latvia, Lithuania — but in alphabetical order.",
        answer: ["estonia latvia lithuania"],
        lithuania: true,
      },
      {
        id: 8,
        title: "Color Code Mood",
        label: "ROOM 08",
        tag: "Perception",
        difficulty: 5,
        sceneTarget: "a simple word",
        description: `
          The lights cycle slowly: <span style="color:#fdb913;">yellow</span>,
          <span style="color:#006a44;">green</span>,
          <span style="color:#c1272d;">red</span>, then back to cool neon violet.[web:49][web:58]<br><br>
          On a sticky note: <em>“Name the basic thing all of these are.”</em>
        `,
        hint: "Yellow, green, red, violet… they all share one simple category.",
        answer: ["color", "colors", "colour", "colours"],
        validator: (raw) => raw.trim().toLowerCase().startsWith("color") || raw.trim().toLowerCase().startsWith("colour"),
      },
      {
        id: 9,
        title: "Midsummer Fire Ritual",
        label: "ROOM 09",
        tag: "Lithuania",
        difficulty: 6,
        sceneTarget: "a one-word name",
        description: `
          The room smells like smoke and wildflowers. A river shimmers on the wall; silhouettes throw wreaths into dark water.[web:49][web:55]<br><br>
          Text appears:<br>
          <em>“Type the Lithuanian midsummer festival where people stay up all night with bonfires and rituals.”</em>[web:49][web:55]
        `,
        hint: "Starts with ‘j’, sometimes also called Rasos. Think bonfires, shortest night of the year.[web:49]",
        answer: ["jonines", "joninės"],
        validator: (raw) => {
          const v = raw.trim().toLowerCase();
          return v === "jonines" || v === "joninės" || v === "rasos";
        },
        lithuania: true,
      },
      {
        id: 10,
        title: "Non-Escape Finale",
        label: "ROOM 10",
        tag: "Finale",
        difficulty: 7,
        sceneTarget: "a phrase",
        description: `
          The last door finally slides open, revealing… the same starry sky you
          saw at the very beginning.<br><br>
          A soft line of text appears:<br>
          <em>“Type the sentence that sums this up: <strong>i won but i did not escape</strong>.”</em><br>
          All lowercase, no punctuation.
        `,
        hint: "Exactly: <code>i won but i did not escape</code> — spaces included.",
        answer: ["i won but i did not escape"],
      },
    ];

    const root = document.getElementById("game-root");
    const levelPillsContainer = document.getElementById("level-pills");
    const progressFill = document.getElementById("progress-fill");
    const crumbs = document.getElementById("crumbs");

    const roomLabel = document.getElementById("room-label");
    const roomTitle = document.getElementById("room-title");
    const roomTags = document.getElementById("room-tags");
    const sceneTarget = document.getElementById("scene-target");
    const roomText = document.getElementById("room-text");
    const chipLabel = document.getElementById("chip-label");
    const statusLine = document.getElementById("status-line");
    const statusText = document.getElementById("status-text");
    const doorLabel = document.getElementById("door-label");
    const detailLeft = document.getElementById("detail-left");
    const detailNeon = document.getElementById("detail-neon");
    const detailOrb = document.getElementById("detail-orb");
    const detailTablet = document.getElementById("detail-tablet");

    const answerForm = document.getElementById("answer-form");
    const answerInput = document.getElementById("answer-input");

    const winOverlay = document.getElementById("win-overlay");
    const playAgainBtn = document.getElementById("play-again");
    const closeOverlayBtn = document.getElementById("close-overlay");
    const winProgress = document.getElementById("win-progress");

    const adminToggleBtn = document.getElementById("admin-toggle-btn");
    const adminPanel = document.getElementById("admin-panel");
    const adminPasswordInput = document.getElementById("admin-password");
    const adminRevealBtn = document.getElementById("admin-reveal-btn");
    const adminStatus = document.getElementById("admin-status");
    const adminAnswer = document.getElementById("admin-answer");

    let currentLevelIndex = 0;
    let solved = new Set();

    function createLevelPills() {
      levels.forEach((level) => {
        const pill = document.createElement("div");
        pill.className = "level-pill";
        pill.dataset.id = level.id;

        const spanLeft = document.createElement("span");
        spanLeft.textContent = `R${String(level.id).padStart(2, "0")}`;

        const dot = document.createElement("div");
        dot.className = "pill-dot";

        pill.appendChild(spanLeft);
        pill.appendChild(dot);

        pill.addEventListener("click", () => {
          setCurrentLevel(level.id - 1);
        });

        levelPillsContainer.appendChild(pill);
      });
      updateLevelPills();
    }

    function updateLevelPills() {
      const pills = levelPillsContainer.querySelectorAll(".level-pill");
      pills.forEach((pill) => {
        const id = parseInt(pill.dataset.id, 10);
        pill.classList.toggle("active", id - 1 === currentLevelIndex);
        pill.classList.toggle("done", solved.has(id));
      });

      const completion = (solved.size / levels.length) * 100;
      progressFill.style.width = `${completion}%`;
    }

    function setSceneDetails(level) {
      detailLeft.classList.remove("lithuania");
      if (level.lithuania) {
        detailLeft.classList.add("lithuania");
        if (detailNeon) {
          detailNeon.style.background =
            "linear-gradient(180deg, #fdb913, #006a44, #c1272d)";
          detailNeon.style.boxShadow = "0 0 18px #fdb913aa";
        }
      } else {
        if (detailNeon) {
          detailNeon.style.background =
            "linear-gradient(180deg, #6bffdf, #6bffdf22)";
          detailNeon.style.boxShadow = "0 0 16px #6bffdfaa";
        }
      }

      if (detailOrb) {
        const factor = 0.15 + level.difficulty * 0.05;
        detailOrb.style.boxShadow = `0 0 ${16 + level.difficulty * 2}px rgba(255,107,213,${factor})`;
      }

      if (detailTablet) {
        detailTablet.style.borderColor =
          level.difficulty > 4 ? "#ff6bd540" : "rgba(255, 255, 255, 0.2)";
      }
    }

    function setCurrentLevel(index) {
      currentLevelIndex = index;
      const level = levels[currentLevelIndex];

      roomLabel.textContent = level.label;
      roomTitle.textContent = level.title;
      sceneTarget.textContent = level.sceneTarget;
      chipLabel.textContent = `Difficulty: ${level.difficulty} / 10`;
      doorLabel.textContent = level.label;

      crumbs.textContent = `Room ${level.id} / ${levels.length} · ${level.title}`;

      roomTags.innerHTML = "";
      const tag = document.createElement("div");
      tag.className = "tag";
      if (level.lithuania) {
        const flag = document.createElement("span");
        flag.className = "tag-flag";
        tag.appendChild(flag);
      }
      const text = document.createElement("span");
      text.textContent = level.tag;
      tag.appendChild(text);
      roomTags.appendChild(tag);

      const hintHTML = level.hint
        ? `<div class="hint">${level.hint}</div>`
        : "";
      roomText.innerHTML = `
        ${level.description}
        ${hintHTML}
      `;

      answerInput.value = "";
      answerInput.focus();

      statusLine.classList.remove("ok", "err");
      statusText.textContent = "Waiting for your answer.";

      adminAnswer.textContent = "";
      adminStatus.textContent =
        "Enter the FILASEK phrase to see the right answer for this room.";

      setSceneDetails(level);
      updateLevelPills();
    }

    function normalise(str) {
      return str.trim().toLowerCase();
    }

    function validateAnswer(level, valueRaw) {
      const val = normalise(valueRaw);

      if (level.validator) {
        return level.validator(valueRaw);
      }

      if (!level.answer || !Array.isArray(level.answer)) return false;

      return level.answer.some((a) => normalise(a) === val);
    }

    function getCanonicalAnswer(level) {
      if (Array.isArray(level.answer) && level.answer.length > 0) {
        return level.answer[0];
      }
      return "(no canonical answer configured)";
    }

    function onAnswerSubmit(event) {
      event.preventDefault();
      const value = answerInput.value;
      if (!value.trim()) {
        statusLine.classList.remove("ok", "err");
        statusText.textContent = "Try typing something first.";
        return;
      }

      const level = levels[currentLevelIndex];
      const isCorrect = validateAnswer(level, value);

      if (isCorrect) {
        statusLine.classList.remove("err");
        statusLine.classList.add("ok");
        if (level.customStatus) {
          statusText.textContent = level.customStatus;
        } else {
          statusText.textContent = "Door softly unlocks. The room lets you through.";
        }

        solved.add(level.id);
        updateLevelPills();

        const allDone = solved.size === levels.length;
        if (allDone) {
          setTimeout(() => {
            winProgress.textContent = `Rooms solved: ${solved.size} / ${levels.length}. Completion loop achieved.`;
            winOverlay.classList.add("visible");
          }, 420);
        } else {
          setTimeout(() => {
            const nextIndex = Math.min(currentLevelIndex + 1, levels.length - 1);
            setCurrentLevel(nextIndex);
          }, 420);
        }
      } else {
        statusLine.classList.remove("ok");
        statusLine.classList.add("err");
        statusText.textContent =
          "The room tilts its head slightly. Try a different answer.";
      }
    }

    answerForm.addEventListener("submit", onAnswerSubmit);

    playAgainBtn.addEventListener("click", () => {
      winOverlay.classList.remove("visible");
      solved = new Set();
      setCurrentLevel(0);
    });

    closeOverlayBtn.addEventListener("click", () => {
      winOverlay.classList.remove("visible");
    });

    adminToggleBtn.addEventListener("click", () => {
      adminPanel.classList.toggle("visible");
      if (adminPanel.classList.contains("visible")) {
        adminPasswordInput.focus();
      }
    });

    adminRevealBtn.addEventListener("click", () => {
      const value = adminPasswordInput.value.trim();
      if (!value) {
        adminStatus.textContent = "Empty password. FILASEK does not approve.";
        adminAnswer.textContent = "";
        return;
      }

      if (value === FILASEK_SECRET) {
        const level = levels[currentLevelIndex];
        const canonical = getCanonicalAnswer(level);
        adminStatus.textContent = "Access granted. Right answer for this room:";
        adminAnswer.textContent = canonical;
      } else {
        adminStatus.textContent = "Access denied. The room pretends not to know you.";
        adminAnswer.textContent = "";
      }
    });

    adminPasswordInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        adminRevealBtn.click();
      }
    });

    createLevelPills();
    setCurrentLevel(0);
  </script>
</body>
</html>
